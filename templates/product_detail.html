{% extends "base.html" %}

{% block content %}

<div class="container">

    <!-- Product Title -->
    <div class="mb-4">
        <h2 class="text-success fw-bold">{{ product[2] }}</h2>
        <p class="text-muted">Premium Export Quality Product</p>
        <hr>
    </div>

    <div class="row">

        <!-- IMAGE GALLERY -->
        <div class="col-md-6 mb-4">

            {% if images %}
            <div id="productCarousel" class="carousel slide shadow rounded" data-bs-ride="carousel">
                <div class="carousel-inner">
                    {% for image in images %}
                    <div class="carousel-item {% if loop.first %}active{% endif %}">
                        <img src="{{ url_for('static', filename='uploads/' + image[0]) }}"
                             class="d-block w-100"
                             style="height:420px; object-fit:cover;">
                    </div>
                    {% endfor %}
                </div>

                <button class="carousel-control-prev" type="button"
                        data-bs-target="#productCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </button>

                <button class="carousel-control-next" type="button"
                        data-bs-target="#productCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </button>
            </div>
            {% else %}
            <img src="https://via.placeholder.com/500x400"
                 class="img-fluid rounded shadow">
            {% endif %}

        </div>

        <!-- PRODUCT DETAILS -->
        <div class="col-md-6">

            <p class="lead">{{ product[3] }}</p>

            <!-- Technical Specifications -->
            <div class="mt-4">
                <h5 class="text-success fw-bold">Technical Specifications</h5>

                <table class="table table-bordered mt-3">
                    <tbody>
                        {% for spec in specifications %}
                        <tr>
                            <th style="width:40%">{{ spec[0] }}</th>
                            <td>{{ spec[1] }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <!-- Packaging Section -->
            <div class="mt-4">
                <h5 class="text-success fw-bold">Packaging & Container Capacity</h5>

                <table class="table table-bordered mt-3">
                    <thead class="table-success">
                        <tr>
                            <th>Packaging Type</th>
                            <th>Weight</th>
                            <th>20ft</th>
                            <th>40ft</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for pack in packaging %}
                        <tr>
                            <td>{{ pack[0] }}</td>
                            <td>{{ pack[1] }}</td>
                            <td>{{ pack[2] }}</td>
                            <td>{{ pack[3] }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <!-- General Info -->
            <div class="mt-3">
                <p><strong>General Packaging:</strong> {{ product[4] }}</p>
                <p><strong>Minimum Order Quantity:</strong> {{ product[5] }}</p>
            </div>

            <!-- Certifications -->
            <div class="mt-4">
                <h6 class="text-success fw-bold">Certifications</h6>
                <ul>
                    <li>ISO 9001:2015 Certified</li>
                    <li>HACCP Approved</li>
                    <li>APEDA Registered Exporter</li>
                </ul>
            </div>

            <!-- CTA -->
            <div class="mt-4">
                <a href="/inquiry/{{ product[0] }}"
                   class="btn btn-success btn-lg w-100">
                    Send Business Inquiry
                </a>
            </div>

        </div>

    </div>

</div>

{% endblock %}